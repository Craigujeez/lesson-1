{"ast":null,"code":"import _objectSpread from\"/Users/nnamdiujah/Documents/React/lesson-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import firebase,{firestore}from\"../firebase/firebase.utils\";var initialState={data:[],authErr:null};var auth=function auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"LOGIN_SUCCESS\":return _objectSpread({},state,{data:action.result,authErr:null,status:\"logged in\"});case\"LOGIN_ERROR\":return _objectSpread({},state,{authErr:action.err.message});case\"SIGN_OUT_SUCCESS\":return _objectSpread({},state,{data:action.result,status:\"logged out\"});case\"SIGN_OUT_ERROR\":return state;case\"CREATE_USER_SUCCESS\":return _objectSpread({},state,{authErr:null});case\"CREATE_USER_ERROR\":return _objectSpread({},state,{authErr:action.err.message});default:return state;}};export default auth;export var SignInUser=function SignInUser(credentials){return function(dispatch){firebase.auth().signInWithEmailAndPassword(credentials.email,credentials.password).then(function(){dispatch({type:\"LOGIN_SUCCESS\"});}).catch(function(err){dispatch({type:\"LOGIN_ERROR\",err:err});});};};export var SignOutUser=function SignOutUser(){return function(dispatch){firebase.auth().signOut().then(function(){dispatch({type:\"SIGN_OUT_SUCCESS\"});}).catch(function(err){dispatch({type:\"SIGN_OUT_ERROR\",err:err});});};};export var SignUpUser=function SignUpUser(data){return function(dispatch){firebase.auth().createUserWithEmailAndPassword(data.email,data.password).then(function(resp){return firestore.collection(\"users\").doc(resp.user.uid).set({displayName:data.displayName});}).then(function(){dispatch({type:\"CREATE_USER_SUCCESS\"});}).catch(function(err){dispatch({type:\"CREATE_USER_ERROR\",err:err});});};};","map":{"version":3,"sources":["/Users/nnamdiujah/Documents/React/lesson-1/src/reducers/auth.js"],"names":["firebase","firestore","initialState","data","authErr","auth","state","action","type","result","status","err","message","SignInUser","credentials","dispatch","signInWithEmailAndPassword","email","password","then","catch","SignOutUser","signOut","SignUpUser","createUserWithEmailAndPassword","resp","collection","doc","user","uid","set","displayName"],"mappings":"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","sourcesContent":["import firebase,{firestore} from \"../firebase/firebase.utils\";\n\nconst initialState = {\n    data: [],\n    authErr: null,\n}\n\nconst auth = (state = initialState,action) => {\n    \n    switch (action.type) {\n        case \"LOGIN_SUCCESS\":\n        return {\n            ...state,\n            data: action.result,\n            authErr: null,\n            status: \"logged in\",\n        };\n        case \"LOGIN_ERROR\":\n        return {\n            ...state,\n            authErr: action.err.message,\n        };\n        case \"SIGN_OUT_SUCCESS\":\n        return {\n            ...state,\n            data: action.result,\n            status: \"logged out\",\n        };\n        case \"SIGN_OUT_ERROR\":\n        return state;\n        case \"CREATE_USER_SUCCESS\":\n        return {\n            ...state,\n            authErr:null,\n        };\n        case \"CREATE_USER_ERROR\":\n        return {\n            ...state,\n            authErr: action.err.message,\n        }\n        default:\n            return state\n    }\n}\n\nexport default auth;\n\nexport const SignInUser = (credentials) => {\n    return (dispatch) => {\n        firebase.auth().signInWithEmailAndPassword(\n            credentials.email,\n            credentials.password\n        ).then(()=>{\n            dispatch({type: \"LOGIN_SUCCESS\"})\n        }).catch((err)=>{\n            dispatch({type: \"LOGIN_ERROR\", err})\n\n        });\n    }\n}\n\nexport const SignOutUser = () => {\n    return (dispatch) => {\n        firebase.auth().signOut().then(()=>{\n            dispatch({type: \"SIGN_OUT_SUCCESS\"})\n        }).catch((err)=>{\n            dispatch({type: \"SIGN_OUT_ERROR\", err})\n\n        })\n    }\n}\n\nexport const SignUpUser = (data) => {\n    return (dispatch) => {\n        firebase.auth().createUserWithEmailAndPassword(\n            data.email,\n            data.password\n        ).then((resp)=>{\n            return firestore.collection(\"users\").doc(resp.user.uid).set({\n                displayName: data.displayName\n            })\n        }).then(()=>{\n            dispatch({type: \"CREATE_USER_SUCCESS\"});\n        }).catch((err)=>{\n            dispatch({type: \"CREATE_USER_ERROR\", err})\n\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}