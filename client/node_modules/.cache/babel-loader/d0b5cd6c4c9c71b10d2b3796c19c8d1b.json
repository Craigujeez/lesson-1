{"ast":null,"code":"import _objectSpread from \"/Users/nnamdiujah/Documents/React/lesson-1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport firebase, { firestore } from \"../firebase/firebase.utils\";\nvar initialState = {\n  data: [],\n  authErr: null\n};\n\nvar auth = function auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return _objectSpread({}, state, {\n        data: action.result,\n        authErr: null,\n        status: \"logged in\"\n      });\n\n    case \"LOGIN_ERROR\":\n      return _objectSpread({}, state, {\n        authErr: action.err.message\n      });\n\n    case \"SIGN_OUT_SUCCESS\":\n      return _objectSpread({}, state, {\n        data: action.result,\n        status: \"logged out\"\n      });\n\n    case \"SIGN_OUT_ERROR\":\n      return state;\n\n    case \"CREATE_USER_SUCCESS\":\n      return _objectSpread({}, state, {\n        authErr: null\n      });\n\n    case \"CREATE_USER_ERROR\":\n      return _objectSpread({}, state, {\n        authErr: action.err.message\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;\nexport var SignInUser = function SignInUser(credentials) {\n  return function (dispatch) {\n    firebase.auth().signInWithEmailAndPassword(credentials.email, credentials.password).then(function () {\n      dispatch({\n        type: \"LOGIN_SUCCESS\"\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"LOGIN_ERROR\",\n        err: err\n      });\n    });\n  };\n};\nexport var SignOutUser = function SignOutUser() {\n  return function (dispatch) {\n    firebase.auth().signOut().then(function () {\n      dispatch({\n        type: \"SIGN_OUT_SUCCESS\"\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"SIGN_OUT_ERROR\",\n        err: err\n      });\n    });\n  };\n};\nexport var SignUpUser = function SignUpUser(data) {\n  return function (dispatch) {\n    firebase.auth().createUserWithEmailAndPassword(data.email, data.password).then(function (resp) {\n      return firestore.collection(\"users\").doc(resp.user.uid).set({\n        displayName: data\n      });\n    }).then(function () {\n      dispatch({\n        type: \"CREATE_USER_SUCCESS\"\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: \"CREATE_USER_ERROR\",\n        err: err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/nnamdiujah/Documents/React/lesson-1/src/reducers/auth.js"],"names":["firebase","firestore","initialState","data","authErr","auth","state","action","type","result","status","err","message","SignInUser","credentials","dispatch","signInWithEmailAndPassword","email","password","then","catch","SignOutUser","signOut","SignUpUser","createUserWithEmailAndPassword","resp","collection","doc","user","uid","set","displayName"],"mappings":"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","sourcesContent":["import firebase,{firestore} from \"../firebase/firebase.utils\";\n\nconst initialState = {\n    data: [],\n    authErr: null,\n}\n\nconst auth = (state = initialState,action) => {\n    \n    switch (action.type) {\n        case \"LOGIN_SUCCESS\":\n        return {\n            ...state,\n            data: action.result,\n            authErr: null,\n            status: \"logged in\",\n        };\n        case \"LOGIN_ERROR\":\n        return {\n            ...state,\n            authErr: action.err.message,\n        };\n        case \"SIGN_OUT_SUCCESS\":\n        return {\n            ...state,\n            data: action.result,\n            status: \"logged out\",\n        };\n        case \"SIGN_OUT_ERROR\":\n        return state;\n        case \"CREATE_USER_SUCCESS\":\n        return {\n            ...state,\n            authErr:null,\n        };\n        case \"CREATE_USER_ERROR\":\n        return {\n            ...state,\n            authErr: action.err.message,\n        }\n        default:\n            return state\n    }\n}\n\nexport default auth;\n\nexport const SignInUser = (credentials) => {\n    return (dispatch) => {\n        firebase.auth().signInWithEmailAndPassword(\n            credentials.email,\n            credentials.password\n        ).then(()=>{\n            dispatch({type: \"LOGIN_SUCCESS\"})\n        }).catch((err)=>{\n            dispatch({type: \"LOGIN_ERROR\", err})\n\n        });\n    }\n}\n\nexport const SignOutUser = () => {\n    return (dispatch) => {\n        firebase.auth().signOut().then(()=>{\n            dispatch({type: \"SIGN_OUT_SUCCESS\"})\n        }).catch((err)=>{\n            dispatch({type: \"SIGN_OUT_ERROR\", err})\n\n        })\n    }\n}\n\nexport const SignUpUser = (data) => {\n    return (dispatch) => {\n        firebase.auth().createUserWithEmailAndPassword(\n            data.email,\n            data.password\n        ).then((resp)=>{\n            return firestore.collection(\"users\").doc(resp.user.uid).set({\n                displayName: data\n            })\n        }).then(()=>{\n            dispatch({type: \"CREATE_USER_SUCCESS\"});\n        }).catch((err)=>{\n            dispatch({type: \"CREATE_USER_ERROR\", err})\n\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}